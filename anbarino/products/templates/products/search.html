{% extends "products/base.html" %}
{% load static %}

{% block title %}Ù†ØªØ§ÛŒØ¬ Ø¬Ø³ØªØ¬Ùˆ{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'products/css/search.css' %}">
{% endblock %}

{% block content %}
<div class="search-container">

  <!-- Ø¹Ù†ÙˆØ§Ù† -->
  <h2 class="search-title">Ù†ØªØ§ÛŒØ¬ Ø¨Ø±Ø§ÛŒ: <span>"{{ query }}"</span></h2>

  <!-- ÙØ±Ù… Ø³Ø±Ú† Ø¨Ø²Ø±Ú¯ -->
  <form class="search-form" action="{% url 'search_results' %}" method="GET">
    <input type="search" name="q" value="{{ query }}" class="search-input"
           placeholder="Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..." aria-label="Ø¬Ø³ØªØ¬Ùˆ">
    <button class="search-btn" type="submit">ğŸ” Ø¬Ø³ØªØ¬Ùˆ</button>
  </form>

  <!-- Ø´Ø¨Ú©Ù‡ Ù†ØªØ§ÛŒØ¬ -->
  <div class="results-grid">
    {% if results %}
      {% for product in results %}
        <div class="product-card">

          <!-- ØªØµÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„ -->
          <div class="image-wrapper">
            {% if product.image %}
              <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
              <img src="{% static 'products/img/placeholder.png' %}" alt="Ø¨Ø¯ÙˆÙ† ØªØµÙˆÛŒØ±">
            {% endif %}
          </div>

          <!-- Ù…ØªÙ† Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø­ØµÙˆÙ„ -->
          <div class="card-body">
            <h5 class="product-title">{{ product.name }}</h5>
            {% if product.price %}
              <p class="product-price">ğŸ’° {{ product.price }} ØªÙˆÙ…Ø§Ù†</p>
            {% endif %}
            {% if product.quantity %}
              <p class="product-qty">ğŸ“¦ Ù…ÙˆØ¬ÙˆØ¯ÛŒ: {{ product.quantity }}</p>
            {% endif %}
            <a href="/product/{{ product.id }}/" class="view-btn">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„</a>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p class="no-results">Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯ ğŸ˜¢</p>
    {% endif %}
  </div>
</div>

<script src="{% static 'products/js/search.js' %}"></script>
{% endblock %}
